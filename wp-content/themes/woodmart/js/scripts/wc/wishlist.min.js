!function(i){woodmartThemeModule.wishlist=function(){var o="woodmart_wishlist_count";if(woodmartThemeModule.$body.hasClass("logged-in")&&(o+="_logged"),woodmart_settings.is_multisite&&(o+="_"+woodmart_settings.current_blog_id),"undefined"!=typeof Cookies){var t=i(".wd-header-wishlist"),o=Cookies.get(o);if(0<t.length)if(void 0!==o)try{var e=JSON.parse(o);t.find(".wd-tools-count").text(e)}catch(o){console.log("cant parse cookies json")}else t.find(".wd-tools-count").text(0);woodmartThemeModule.$body.on("click",".wd-wishlist-btn a",function(o){var t=i(this),o=(t.hasClass("added")||o.preventDefault(),t.data("product-id")),e=t.data("added-text"),s=t.data("key");if(t.hasClass("added"))return!0;t.addClass("loading"),i.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_add_to_wishlist",product_id:o,key:s},dataType:"json",method:"GET",success:function(o){o?(t.addClass("added"),woodmartThemeModule.$document.trigger("added_to_wishlist"),o.wishlist_content&&d(o),(0<t.find("span").length?t.find("span"):t).text(e)):console.log("something wrong loading wishlist data ",o)},error:function(){console.log("We cant add to wishlist. Something wrong with AJAX response. Probably some PHP conflict.")},complete:function(){t.removeClass("loading")}})}),woodmartThemeModule.$body.on("click",".wd-wishlist-remove",function(o){o.preventDefault();var t=i(this),o=t.data("product-id"),e=t.data("key");if(t.hasClass("added"))return!0;t.addClass("loading"),i.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_remove_from_wishlist",product_id:o,key:e},dataType:"json",method:"GET",success:function(o){o.wishlist_content?d(o):console.log("something wrong loading wishlist data ",o)},error:function(){console.log("We cant remove from wishlist. Something wrong with AJAX response. Probably some PHP conflict.")},complete:function(){t.removeClass("loading")}})})}function d(o){var t=i(".wd-wishlist-content"),e=i(".wd-header-wishlist");0<e.length&&e.find(".wd-tools-count").text(o.count),0<t.length&&!t.hasClass("wd-wishlist-preview")&&woodmartThemeModule.removeDuplicatedStylesFromHTML(o.wishlist_content,function(o){t.replaceWith(o)}),woodmartThemeModule.$document.trigger("wdUpdateWishlist")}},i(document).ready(function(){woodmartThemeModule.wishlist()})}(jQuery);