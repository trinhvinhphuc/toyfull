!function(c){woodmartThemeModule.$document.on("wdShopPageInit",function(){woodmartThemeModule.productFilters()}),c.each(["frontend/element_ready/wd_product_filters.default"],function(e,t){woodmartThemeModule.wdElementorAddAction(t,function(){woodmartThemeModule.productFilters()})}),woodmartThemeModule.productFilters=function(){function n(e,t){var r;0!==e.length&&(0<(r=e.val()).indexOf(",")?e.val(r.replace(","+t,"").replace(t+",","")):e.val(r.replace(t,"")))}function s(e){t(e),r(e),woodmartThemeModule.$body.hasClass("woodmart-ajax-shop-on")&&void 0!==c.fn.pjax&&e.hasClass("with-ajax")&&(c.pjax({container:".main-page-wrapper",timeout:woodmart_settings.pjax_timeout,url:e.attr("action"),data:e.serialize(),scrollTo:!1,renderCallback:function(t,e,r){woodmartThemeModule.removeDuplicatedStylesFromHTML(e,function(e){t.html(e),r(),woodmartThemeModule.$document.trigger("wdShopPageInit"),woodmartThemeModule.$document.trigger("wood-images-loaded")})}}),e.find(".wd-pf-btn button, .filter_price_slider_amount button").prop("disabled",!0))}var e=c(".wd-pf-checkboxes"),t=(e.on("click",".selected-value",function(){var e,t,r,a=c(this),o=a.parents(".wd-pf-checkboxes"),i=o.find(".result-input"),d=a.data("title");if("price-filter"===d)return e=a.data("min"),t=a.data("max"),(r=o.find(".price_slider_widget")).slider("values",0,e),r.slider("values",1,t),o.find(".min_price").val(""),o.find(".max_price").val(""),0===c(".wd-product-filters .wd-pf-btn button").length&&s(a.parents(".wd-product-filters")),void woodmartThemeModule.$body.trigger("filter_price_slider_slide",[e,t,e,t,r]);n(i,d),o.find('.pf-value[data-val="'+d+'"]').parent().removeClass("chosen"),0===c(".wd-product-filters .wd-pf-btn button").length&&s(a.parents(".wd-product-filters")),a.remove()}),e.each(function(){var t=c(this),r=t.find(".wd-pf-title"),a=(r.siblings(".wd-pf-dropdown"),t.hasClass("multi_select")),o=(r.on("click",function(e){e=e.target;c(e).is(r.find(".selected-value"))||(t.hasClass("wd-opened")?o():(t.addClass("wd-opened"),setTimeout(function(){woodmartThemeModule.$document.trigger("wdProductFiltersOpened")},300)))}),woodmartThemeModule.$document.on("click",function(e){e=e.target;(!t.hasClass("wd-opened")||!a||c(e).is(t)||c(e).parents().is(t))&&(a||c(e).is(r)||c(e).parents().is(r))||o()}),function(){t.removeClass("wd-opened")})}),c(".wd-pf-checkboxes li > .pf-value").on("click",function(e){e.preventDefault();var e=c(this),t=e.parent(),r=e.parents(".wd-pf-checkboxes"),a=r.find(".result-input"),o=r.find(".wd-pf-results"),r=r.hasClass("multi_select"),i=a.val(),d=e.data("title"),l=e.data("val");r?t.hasClass("chosen")?(n(a,l),o.find('li[data-title="'+l+'"]').remove(),t.removeClass("chosen")):(""===i?a.val(l):a.val(i+","+l),o.prepend('<li class="selected-value" data-title="'+l+'">'+d+"</li>"),t.addClass("chosen")):t.hasClass("chosen")?(a.val(""),o.find(".selected-value").remove(),t.removeClass("chosen")):(a.val(l),o.find(".selected-value").remove(),o.prepend('<li class="selected-value" data-title="'+l+'">'+d+"</li>"),t.parents(".wd-scroll-content").find(".chosen").removeClass("chosen"),t.addClass("chosen")),0===c(".wd-product-filters .wd-pf-btn button").length&&s(e.parents(".wd-product-filters"))}),function(t){t.find(".wd-pf-checkboxes").each(function(){var e=c(this);0<e.find('input[type="hidden"]').length&&!e.find('input[type="hidden"]').val()?e.find('input[type="hidden"]').remove():e.hasClass("wd-pf-categories")&&t.attr("action",woodmart_settings.shop_url)})}),r=function(e){var t=e.find(".wd-pf-categories .chosen .pf-value");0<t.length&&e.attr("action",t.attr("href"))};woodmartThemeModule.$body.on("filter_price_slider_create filter_price_slider_slide",function(e,t,r,a,o,i){var d=accounting.formatMoney(t,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),l=accounting.formatMoney(r,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),i=(i.siblings(".filter_price_slider_amount").find("span.from").html(d),i.siblings(".filter_price_slider_amount").find("span.to").html(l),i.parents(".wd-pf-checkboxes").find(".wd-pf-results")),n=i.find(".selected-value");t===a&&r===o?n.remove():0===n.length?i.prepend('<li class="selected-value" data-title="price-filter" data-min="'+a+'" data-max="'+o+'">'+d+" - "+l+"</li>"):n.html(d+" - "+l),woodmartThemeModule.$body.trigger("price_slider_updated",[t,r])}),c(".wd-pf-price-range .price_slider_widget").each(function(){var r=c(this),a=r.siblings(".filter_price_slider_amount").find(".min_price"),o=r.siblings(".filter_price_slider_amount").find(".max_price"),i=parseInt(a.data("min")),d=parseInt(o.data("max")),e=parseInt(a.val()),t=parseInt(o.val());c(".price_slider_widget, .price_label").show(),r.slider({range:!0,animate:!0,min:i,max:d,values:[e,t],create:function(){e===i&&t===d&&(a.val(""),o.val("")),woodmartThemeModule.$body.trigger("filter_price_slider_create",[e,t,i,d,r])},slide:function(e,t){t.values[0]===i&&t.values[1]===d?(a.val(""),o.val("")):(a.val(t.values[0]),o.val(t.values[1])),woodmartThemeModule.$body.trigger("filter_price_slider_slide",[t.values[0],t.values[1],i,d,r])},change:function(e,t){woodmartThemeModule.$body.trigger("price_slider_change",[t.values[0],t.values[1]])}})}),c(".wd-product-filters").one("click",".wd-pf-btn button, .filter_price_slider_amount button",function(){var e=c(this).parents(".wd-product-filters");s(e)}),c(".wd-pf-checkboxes .chosen > .pf-value").each(function(){var e=c(this);e.parents(".wd-pf-checkboxes").find(".wd-pf-results").prepend('<li class="selected-value" data-title="'+e.data("val")+'">'+e.data("title")+"</li>")})},c(document).ready(function(){woodmartThemeModule.productFilters()})}(jQuery);