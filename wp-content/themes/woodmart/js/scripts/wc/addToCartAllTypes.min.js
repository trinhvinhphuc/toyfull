!function(r){woodmartThemeModule.addToCartAllTypes=function(){0!=woodmart_settings.ajax_add_to_cart&&woodmartThemeModule.$body.on("submit","form.cart",function(a){var e,t=r(this),o=t.parents(".single-product-page");(o=0===o.length?t.parents(".product-quick-view"):o).hasClass("product-type-external")||o.hasClass("product-type-zakeke")||o.hasClass("product-type-gift-card")||(a.preventDefault(),e=t.find(".single_add_to_cart_button"),o=t.serialize(),o+="&action=woodmart_ajax_add_to_cart",e.val()&&(o+="&add-to-cart="+e.val()),e.removeClass("added not-added"),e.addClass("loading"),woodmartThemeModule.$body.trigger("adding_to_cart",[e,o]),r.ajax({url:woodmart_settings.ajaxurl,data:o,method:"POST",success:function(a){var t,o,d;a&&(window.location.toString().replace("add-to-cart","added-to-cart"),a.error&&a.product_url?window.location=a.product_url:"yes"===woodmart_settings.cart_redirect_after_add?window.location=woodmart_settings.cart_url:(e.removeClass("loading"),t=a.fragments,o=a.cart_hash,t&&r.each(t,function(a){r(a).addClass("updating")}),t&&r.each(t,function(a,t){r(a).replaceWith(t)}),(d=r(".woocommerce-notices-wrapper")).empty(),0<a.notices.indexOf("error")?(d.append(a.notices),e.addClass("not-added")):("widget"===woodmart_settings.add_to_cart_action&&r.magnificPopup.close(),e.addClass("added"),woodmartThemeModule.$body.trigger("added_to_cart",[t,o,e]))))},error:function(){console.log("ajax adding to cart error")},complete:function(){}}))})},r(document).ready(function(){woodmartThemeModule.addToCartAllTypes()})}(jQuery);