!function(a){woodmartThemeModule.commentImage=function(){a("form.comment-form").attr("enctype","multipart/form-data");var t=a(".comment-form"),n=t.find("#wd-add-img-btn"),r=[];function i(e){t.prepend('<ul class="woocommerce-error" role="alert"><li>'+e+"</li></ul>")}0!==n.length&&(a.each(woodmart_settings.comment_images_upload_mimes,function(e,t){r.push(String(t))}),t.find("#wd-add-img-btn").on("change",function(){t.find(".wd-add-img-count").text(woodmart_settings.comment_images_added_count_text.replace("%s",this.files.length))}),t.on("submit",function(e){t.find(".woocommerce-error").remove();var o=!1,m=!1;n[0].files.length>woodmart_settings.comment_images_count&&(i(woodmart_settings.comment_images_count_text),e.preventDefault()),n[0].files.length<=0&&"yes"===woodmart_settings.single_product_comment_images_required&&(i(woodmart_settings.comment_required_images_error_text),e.preventDefault()),Array.prototype.forEach.call(n[0].files,function(e){var t=e.size,e=String(e.type);t>woodmart_settings.comment_images_upload_size&&(o=!0),a.inArray(e,r)<0&&(m=!0)}),o&&(i(woodmart_settings.comment_images_upload_size_text),e.preventDefault()),m&&(i(woodmart_settings.comment_images_upload_mimes_text),e.preventDefault())}))},a(document).ready(function(){woodmartThemeModule.commentImage()})}(jQuery);