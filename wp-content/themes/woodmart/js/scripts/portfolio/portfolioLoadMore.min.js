!function(m){woodmartThemeModule.$document.on("wdPortfolioPjaxComplete",function(){woodmartThemeModule.portfolioLoadMore()}),m.each(["frontend/element_ready/wd_portfolio.default"],function(o,e){woodmartThemeModule.wdElementorAddAction(e,function(){woodmartThemeModule.portfolioLoadMore()})}),woodmartThemeModule.portfolioLoadMore=function(){var s;"function"==typeof m.fn.waypoint&&(m(".wd-portfolio-load-more.load-on-scroll").waypoint(function(){m(".wd-portfolio-load-more.load-on-scroll").trigger("click")},{offset:"100%"}),s=!1,m(".wd-portfolio-load-more").on("click",function(o){o.preventDefault();var t,e,a,r,d,n,l,i=m(this);s||i.hasClass("no-more-posts")||(s=!0,e="woodmart_get_portfolio_"+(o=(t=i.parent().parent().find(".wd-portfolio-holder")).data("source")),a=woodmart_settings.ajaxurl,r="POST",l=t.data("atts"),n=t.data("paged"),i.addClass("loading"),l={atts:l,paged:n,action:e},"main_loop"===o&&(a=i.attr("href"),r="GET",l={}),m.ajax({url:a,data:l,dataType:"json",method:r,success:function(e){woodmartThemeModule.removeDuplicatedStylesFromHTML(e.items,function(o){o=m(o);o&&(t.hasClass("masonry-container")?(t.append(o).isotope("appended",o),t.imagesLoaded().progress(function(){t.isotope("layout"),clearTimeout(d),d=setTimeout(function(){m(".wd-portfolio-load-more.load-on-scroll").waypoint(function(){m(".wd-portfolio-load-more.load-on-scroll").trigger("click")},{offset:"100%"})},1e3)})):t.append(o),t.data("paged",n+1),i.attr("href",e.nextPage),"yes"===woodmart_settings.load_more_button_page_url_opt&&"no"!==woodmart_settings.load_more_button_page_url&&e.currentPage&&window.history.pushState("","",e.currentPage)),woodmartThemeModule.$document.trigger("wdPortfolioLoadMoreLoaded"),"no-more-posts"===e.status&&(i.addClass("no-more-posts"),i.hide())})},error:function(){console.log("ajax error")},complete:function(){i.removeClass("loading"),s=!1}}))}))},m(document).ready(function(){woodmartThemeModule.portfolioLoadMore()})}(jQuery);