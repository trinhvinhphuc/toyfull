!function(d){woodmartThemeModule.$document.on("wdCarouselFlickityInited",function(){woodmartThemeModule.sliderDistortion()}),woodmartThemeModule.sliderDistortion=function(){var e=d(".wd-slider-wrapper.anim-distortion");"undefined"==typeof ShaderX||woodmartThemeModule.$body.hasClass("single-woodmart_slide")||e.each(function(){var t,e=d(this),a=e.find(".wd-slide"),i=a.eq(0).data("image-url"),o=a.eq(1).data("image-url");!e.hasClass("webgl-inited")&&i&&o&&(e.addClass("webgl-inited"),(t=new ShaderX({container:e.find(".flickity-viewport"),sizeContainer:e,vertexShader:woodmartThemeModule.shaders.matrixVertex,fragmentShader:woodmartThemeModule.shaders[woodmart_settings.slider_distortion_effect]||woodmartThemeModule.shaders.sliderWithWave,width:e.outerWidth(),height:e.outerHeight(),distImage:"sliderPattern"===woodmart_settings.slider_distortion_effect&&woodmart_settings.theme_url+"/images/dist11.jpg"})).loadImage(i,0,function(){e.addClass("wd-canvas-image-loaded")}),t.loadImage(i,1),t.loadImage(o,0,void 0,!0),e.on("change.flickity",function(e,d){(i=a.eq(d).data("image-url"))&&(t.replaceImage(i),0<a.eq(d+1).length&&(o=a.eq(d+1).data("image-url"))&&t.loadImage(o,0,void 0,!0))}))})}}(jQuery);